swagger: "2.0"

info:
  version: "1.0.3"
  title: "My ToDoList"
  description: "Тестовое задание цель которого реализация ToDo списка дел, "

paths:
  /user:
    post:
      tags:
        - user
      summary: Запрос на создание пользователя
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: fullName
          schema:
            type: string
          description: new
      responses:
        201:
          description: Added
        500:
          description: Ошибка
    get:
      tags:
        - user
      summary: Запрос на получение полного списка пользователей
      operationId: getUserList
      consumes:
        - application/json
      responses:
        200:
          description: Ок

  /user/{userId}:
    get:
      tags:
        - user
      description: Возвращает всю информацию о пользователе
      summary: Запрос на получение информации о пользователе по айди
      operationId: getUserInfoById
      produces:
        - application/json
      consumes:
        - application/json
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
      responses:
        200:
          description: Ok
    put:
      tags:
        - user
      description: "Изменение ФИО пользователя"
      summary: "Запрос на изменение информации о пользователе"
      operationId: updateUserInfoById
      consumes:
        - application/json
      responses:
        200:
          description: Ok
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - in: body
          name: body
          schema:
            $ref: "#/definitions/User"
    delete:
      tags:
        - user
      summary: Запрос на удаление пользователя
      description: Полное удаление информации о пользователе, вместе  спринадлежащими ему группами
      operationId: removeUserById
      consumes:
        - application/json
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
      responses:
        200:
          description: Ok


  /user/{userId}/group:
    get:
      tags:
        - group
      summary: Запрос на получение групп пользователя
      operationId: getGroupListByUserId
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
      responses:
        200:
          description: Ok
    post:
      tags:
        - group
      summary: Запрос на создание новой группы для айтемов
      operationId: createNewGroupForUser
      consumes:
        - application/json
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - in: body
          name: body
          schema:
            $ref: "#/definitions/Group"
      responses:
        200:
          description: Success

  /user/{userId}/group/{groupId}:
    get:
      tags:
        - group
      summary: Запрос на получение инфромации о пользователе
      operationId: getGroupsByUserId
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - name: "groupId"
          in: "path"
          required: true
          type: string
      responses:
        200:
          description: Ok
    put:
      tags:
        - group
      summary: Запрос на изменение информации о группе
      operationId: updateGroupInfoByGroupId
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - name: "groupId"
          in: "path"
          required: true
          type: string
        - in: body
          name: body
          schema:
            $ref: "#/definitions/Group"
      responses:
        200:
          description: Ok
    delete:
      tags:
        - group
      summary: Запрос на удаление группы
      description: Полное удаление группы и принадлежащих ей айтемов
      operationId: removeGroupByGroupId
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - name: "groupId"
          in: "path"
          required: true
          type: string
      responses:
        200:
          description: Ok

  /user/{userId}/group/{groupId}/item:
    get:
      tags:
        - item
      summary: Запрос на получение списка айтемов в группе
      operationId: getItemListByGroupId
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - name: "groupId"
          in: "path"
          required: true
          type: string
      responses:
        200:
          description: Ok
    post:
      tags:
        - item
      summary: Запрос на создание нового айтема в группе
      operationId: createNewItemInGroup
      consumes:
        - application/json
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - name: "groupId"
          in: "path"
          required: true
          type: string
        - in: body
          name: body
          schema:
            $ref: "#/definitions/Item"
      responses:
        200:
          description: Success
  /user/{userId}/group/{groupId}/item/{itemId}:
    get:
      tags:
        - item
      summary: Запрос на получение инфромации о айтеме
      operationId: getItemInfoByUserId
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - name: "groupId"
          in: "path"
          required: true
          type: string
        - name: "itemId"
          in: "path"
          required: true
          type: string
      responses:
        200:
          description: Ok
    put:
      tags:
        - item
      summary: Запрос на изменение информации о айтеме
      operationId: updateItemInfoByItemId
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - name: "groupId"
          in: "path"
          required: true
          type: string
        - name: "itemId"
          in: "path"
          required: true
          type: string
        - in: body
          name: body
          schema:
            $ref: "#/definitions/Item"
      responses:
        200:
          description: Ok
    delete:
      tags:
        - item
      summary: Запрос на удаление айтема
      operationId: removeItemByItemId
      parameters:
        - name: "userId"
          in: "path"
          required: true
          type: string
        - name: "groupId"
          in: "path"
          required: true
          type: string
        - name: "itemId"
          in: "path"
          required: true
          type: string
      responses:
        200:
          description: Ok


definitions:
  User:
    description: "Пользователь программы"
    type: object
    properties:
      id:
        type: "string"
      fullName:
        type: "string"
  Group:
    description: "Раздел/Группа дел"
    type: object
    properties:
      id:
        type: "string"
      name:
        type: "string"
      userId:
        type: "string"
  Item:
    description: "Элемент списка ToDo"
    type: object
    properties:
      id:
        type: "string"
      name:
        type: "string"
      groupId:
        type: "string"
      activity:
        type: "boolean"